<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="../Scripts/ModernizrBuild.js" type="text/javascript"></script>
</head>
<body>
    <section id="Header">
        <audio src="AudioFiles/Kalimba.mp3" id="audio1">
            Audio is not supported.
        </audio>

        <p>&nbsp;</p>
        <div style="border:2px dashed green;padding:3px;width:300px;padding:10px;">

            <input type="button" id="btnPlay" value="Play" onclick="PlayNow()" />
            <input type="button" id="btnPause" value="Pause" onclick="PauseNow()" />
            <input type="button" id="btnMute" value="Mute" onclick="MuteNow()" />

            <br />
            Volume : <input id="volume" type="range" min="0" max="1" step="0.1" onchange="ChangeVolume()">
            <br />
            Time lapsed: <input id="seekbar" type="range" step="any" onchange="ChangeTheTime()">
            <output id="lblTime">-:--:--</output>
        </div>

        <script type="text/javascript">
            // check if audio is supported in the browser or not
            if (Modernizr.audio) {
                alert("Audio is supported");
            }
            else {
                alert("Audio is NOT supported");
            }

            // get the audio, volume and seekbar elements
            var audio = document.getElementById("audio1");

            var volumeRange = document.getElementById('volume');
            var seekbar = document.getElementById('seekbar');

            // attach timeupdate, durationchange event to the audio element to update the time in the lable and seekbar
            window.onload = function () {
                // go to http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-EventTarget-addEventListener to know more about addEventListener
                // (false is for bubbling and true is for event capturing)
                audio.addEventListener('timeupdate', UpdateTheTime, false);
                audio.addEventListener('durationchange', SetSeekBar, false);
                volumeRange.value = audio.volume;
            }

            // fires when Play button is clicked
            function PlayNow() {
                if (audio.paused) {
                    audio.play();
                } else if (audio.ended) {
                    audio.currentTime = 0;
                    audio.play();
                }
            }

            // fires when Pause button is clicked
            function PauseNow() {
                if (audio.play) {
                    audio.pause();
                }
            }

            // fires when Mute button is clicked
            function MuteNow() {
                if (audio.muted) {
                    audio.muted = false;
                    volumeRange.value = audio.volume;
                }
                else {
                    audio.muted = true;
                    volumeRange.value = 0;
                    audio.value = 0;
                }
            }

            // fires when volume element is changed
            function ChangeVolume() {
                var myVol = volumeRange.value;
                audio.volume = myVol;
                if (myVol == 0) {
                    audio.muted = true;
                } else {
                    audio.muted = false;
                }
            }

            // fires when page loads, it sets the min and max range of the video
            function SetSeekBar() {
                seekbar.min = 0;
                seekbar.max = audio.duration;
            }

            // fires when seekbar is changed
            function ChangeTheTime() {
                audio.currentTime = seekbar.value;
            }

            // fires when audio plays and the time is updated in the audio element, this writes the current duration elapsed in the label element
            function UpdateTheTime() {
                var sec = audio.currentTime;
                var h = Math.floor(sec / 3600);
                sec = sec % 3600;
                var min = Math.floor(sec / 60);
                sec = Math.floor(sec % 60);
                if (sec.toString().length < 2) sec = "0" + sec;
                if (min.toString().length < 2) min = "0" + min;
                document.getElementById('lblTime').value = h + ":" + min + ":" + sec;

                seekbar.min = audio.startTime;
                seekbar.max = audio.duration;
                seekbar.value = audio.currentTime;
            }

        </script>


        <img src="Images/start.jpg" onclick="PlayNow()" style="cursor:pointer;" />
        <img src="Images/pause.jpg" onclick="PauseNow()" style="cursor:pointer;" />
        <img src="Images/download.jpg" onclick="MuteNow()" style="cursor:pointer;" />
    </section>


    <section id="footer" style="text-align:center;margin-top:50px">
        <video src="Video/VideoIntro.mp4" height="300" width="400" id="video1">
            video is not supported.
        </video>
        <div>
            <input type="button" id="btnPlay" value="Play" onclick="PlayNow()" />
            <input type="button" id="btnPause" value="Pause" onclick="PauseNow()" />
            <input type="button" id="btnMute" value="Mute" onclick="MuteNow()" />
            <br />
            Volume : <input type="range" min="0" max="1" step="0.1" id="volume" onchange="ChangeVolume()">
            <br />
            Time lapsed: <input type="range" step="any" id="seekbar" onchange="ChangeTheTime()"> <label id="lblTime">-:--:--</label>
        </div>

        <script type="text/javascript">
            // check if video is supported in the browser or not
            if (Modernizr.video) {
                alert("video is supported");
            }
            else {
                alert("video is NOT supported");
            }

            // get the video, volume and seekbar elements
            var video = document.getElementById("video1");
            var volumeRange = document.getElementById('volume');
            var seekbar = document.getElementById('seekbar');

            // attach timeupdate, durationchange event to the video element to update the time in the lable and seekbar
            window.onload = function () {
                // go to http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-EventTarget-addEventListener to know more about addEventListener
                // (false is for bubbling and true is for event capturing)
                video.addEventListener('timeupdate', UpdateTheTime, false);
                video.addEventListener('durationchange', SetSeekBar, false);
                volumeRange.value = video.volume;
            }

            // fires when volume element is changed
            function ChangeVolume() {
                var myVol = volumeRange.value;
                video.volume = myVol;
                if (myVol == 0) {
                    video.muted = true;
                } else {
                    video.muted = false;
                }
            }

            // fires when page loads, it sets the min and max range of the video
            function SetSeekBar() {
                seekbar.min = 0;
                seekbar.max = video.duration;
            }

            // fires when seekbar is changed
            function ChangeTheTime() {
                video.currentTime = seekbar.value;
            }

            // fires when video plays and the time is updated in the video element, this writes the current duration elapsed in the label element
            function UpdateTheTime() {
                var sec = video.currentTime;
                var h = Math.floor(sec / 3600);
                sec = sec % 3600;
                var min = Math.floor(sec / 60);
                sec = Math.floor(sec % 60);
                if (sec.toString().length < 2) sec = "0" + sec;
                if (min.toString().length < 2) min = "0" + min;
                document.getElementById('lblTime').innerHTML = h + ":" + min + ":" + sec;

                seekbar.min = video.startTime;
                seekbar.max = video.duration;
                seekbar.value = video.currentTime;
            }

            // fires when Play button is clicked
            function PlayNow() {
                if (video.paused) {
                    video.play();
                } else if (video.ended) {
                    video.currentTime = 0;
                    video.play();
                }
            }

            // fires when Pause button is clicked
            function PauseNow() {
                if (video.play) {
                    video.pause();
                }
            }

            // fires when Mute button is clicked
            function MuteNow() {
                if (video.muted) {
                    video.muted = false;
                    volumeRange.value = video.volume;
                }
                else {
                    video.muted = true;
                    volumeRange.value = 0;
                }
            }

        </script>
    </section>

    <section id="canvas">
        <canvas id="myCanvas" width="600" height="400" style="border:1px solid red;">
            Canvas is not supported in your browser
        </canvas>
        <br />
        <input type="button" onclick=" DrawCircle()" value="Draw Circle" />
        <script type="text/javascript">
            function DrawCircle() {
                var context = document.getElementById("myCanvas").getContext("2d");

                context.beginPath();
                context.lineWidth = "20";
                // arc(x center coordinate, y center coordinate, radius, start angle value,
                //end angle value, clock wise / anti clock wise = true)
                // start and end angles are measured in radios. 360 degree = Mapth.PI * 2
                context.arc(400, 250, 100, 0, Math.PI * 1.5, true);
                context.stroke(); // mandatory to call

                context.beginPath();
                context.arc(100, 110, 90, 4, 2, false);
                context.stroke(); // mandatory to call again
                context.beginPath();
                context.arc(350, 150, 90, 1, Math.PI * 1.5, false);
                context.stroke();
                context.fillStyle = "red";
                context.globalAlpha = 0.25;
                context.fill();
            }
        </script>
    </section>

    <section id="can">
        <canvas id="Canvas1" width="300" height="200" style="border:1px solid green;">
            Canvas is not supported in your browser
        </canvas>
        <br />
        <input type="button" onclick="DrawLines()" value="Draw Line" />
    </section>
    <script type="text/javascript">
        function DrawLines() {
            // alert(Modernizr.canvas);
            var context = document.getElementById("Canvas1").getContext("2d");
            context.beginPath();
            context.moveTo(50, 60);
            context.lineTo(50, 100);
            context.lineTo(200, 100);
            context.lineTo(200, 50);
            context.lineTo(70, 25);
            context.closePath(); // optional
            context.stroke();

        }
    </script>

</body>
</html >
